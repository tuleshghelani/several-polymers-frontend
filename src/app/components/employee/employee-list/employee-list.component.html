<div class="employee-container">
  <div class="search-section card">
    <h2>Search Employees</h2>
    <form [formGroup]="searchForm" (ngSubmit)="onSearch()">
      <div class="search-controls">
        <div class="form-group">
          <input 
            type="text" 
            formControlName="search" 
            class="form-control" 
            placeholder="Search employees..."
          >
        </div>
        <div class="button-group">
          <button type="submit" class="search-btn btn btn-sm btn-primary">
            <i class="fas fa-search"></i> Search
          </button>
          <button type="button" class="search-btn btn btn-sm btn-secondary" (click)="resetForm()">
            <i class="fas fa-undo"></i> Reset
          </button>
        </div>
      </div>
    </form>
  </div>

  <div class="action-buttons">
    <button routerLink="/employee/create" class="btn btn-sm btn-primary">
      <i class="fas fa-plus"></i> Add Employee
    </button>
  </div>

  <div class="employees-list card">
    <h2>Employees</h2>
    <div class="table-wrapper">
      <div class="table-container">
        <app-loader [show]="isLoading"></app-loader>
        
        <div class="table-responsive" [class.loading]="isLoading">
          <table class="table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Mobile</th>
                <th>Email</th>
                <th>Designation</th>
                <th>Department</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let employee of employees">
                <td>{{employee.name}}</td>
                <td>{{employee.mobileNumber}}</td>
                <td>{{employee.email}}</td>
                <td>{{employee.designation}}</td>
                <td>{{employee.department}}</td>
                <td>
                  <span class="status-badge" [ngClass]="{'active': employee.status === 'A', 'inactive': employee.status !== 'A'}">
                    {{employee.status === 'A' ? 'Active' : 'Inactive'}}
                  </span>
                </td>
                <td class="actions">
                  <button 
                    class="btn-icon edit" 
                    [routerLink]="['/employee/edit', employee.id]"
                    title="Edit Employee"
                  >
                    <i class="fas fa-edit"></i>
                  </button>
                  <button 
                    class="btn-icon delete" 
                    (click)="deleteEmployee(employee.id)"
                    title="Delete Employee"
                  >
                    <i class="fas fa-trash"></i>
                  </button>
                </td>
              </tr>
              <tr *ngIf="!employees?.length">
                <td colspan="8" class="text-center">No employees found</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <app-pagination
      *ngIf="totalPages > 0"
      [currentPage]="currentPage"
      [pageSize]="pageSize"
      [totalElements]="totalElements"
      [pageSizeOptions]="pageSizeOptions"
      (pageChange)="onPageChange($event)"
      (pageSizeChange)="onPageSizeChange($event)"
    ></app-pagination>
  </div>
</div> 